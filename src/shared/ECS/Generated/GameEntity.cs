// This is a minimal manual implementation of GameEntity
// In production, this would be auto-generated by Entitas.CodeGeneration
using Entitas;
using U2.Shared.ECS.Components;
using U2.Shared.Math;
using U2.Shared.Ships;

namespace U2.Shared.ECS;

public sealed class GameEntity : Entity
{
    // Transform2D
    public bool hasTransform2D => HasComponent(GameComponentsLookup.Transform2D);
    public Transform2DComponent transform2D => (Transform2DComponent)GetComponent(GameComponentsLookup.Transform2D);
    
    public void AddTransform2D(Vector2 position, float rotation)
    {
        var component = CreateComponent<Transform2DComponent>(GameComponentsLookup.Transform2D);
        component.Position = position;
        component.Rotation = rotation;
        AddComponent(GameComponentsLookup.Transform2D, component);
    }
    
    public void ReplaceTransform2D(Vector2 position, float rotation)
    {
        var component = (Transform2DComponent)GetComponent(GameComponentsLookup.Transform2D);
        component.Position = position;
        component.Rotation = rotation;
        ReplaceComponent(GameComponentsLookup.Transform2D, component);
    }

    // Velocity
    public bool hasVelocity => HasComponent(GameComponentsLookup.Velocity);
    public VelocityComponent velocity => (VelocityComponent)GetComponent(GameComponentsLookup.Velocity);
    
    public void AddVelocity(Vector2 linear, float angular)
    {
        var component = CreateComponent<VelocityComponent>(GameComponentsLookup.Velocity);
        component.Linear = linear;
        component.Angular = angular;
        AddComponent(GameComponentsLookup.Velocity, component);
    }
    
    public void ReplaceVelocity(Vector2 linear, float angular)
    {
        var component = (VelocityComponent)GetComponent(GameComponentsLookup.Velocity);
        component.Linear = linear;
        component.Angular = angular;
        ReplaceComponent(GameComponentsLookup.Velocity, component);
    }

    // Momentum
    public bool hasMomentum => HasComponent(GameComponentsLookup.Momentum);
    public MomentumComponent momentum => (MomentumComponent)GetComponent(GameComponentsLookup.Momentum);
    
    public void AddMomentum(Vector2 linear, float angular)
    {
        var component = CreateComponent<MomentumComponent>(GameComponentsLookup.Momentum);
        component.Linear = linear;
        component.Angular = angular;
        AddComponent(GameComponentsLookup.Momentum, component);
    }

    // Mass
    public bool hasMass => HasComponent(GameComponentsLookup.Mass);
    public MassComponent mass => (MassComponent)GetComponent(GameComponentsLookup.Mass);
    
    public void AddMass(float mass_kg, float inertia_kgm2)
    {
        var component = CreateComponent<MassComponent>(GameComponentsLookup.Mass);
        component.Mass_kg = mass_kg;
        component.Inertia_kgm2 = inertia_kgm2;
        AddComponent(GameComponentsLookup.Mass, component);
    }

    // ControlState
    public bool hasControlState => HasComponent(GameComponentsLookup.ControlState);
    public ControlStateComponent controlState => (ControlStateComponent)GetComponent(GameComponentsLookup.ControlState);
    
    public void AddControlState(float thrust, float strafe_x, float strafe_y, float yaw_input)
    {
        var component = CreateComponent<ControlStateComponent>(GameComponentsLookup.ControlState);
        component.Thrust = thrust;
        component.Strafe_X = strafe_x;
        component.Strafe_Y = strafe_y;
        component.Yaw_Input = yaw_input;
        AddComponent(GameComponentsLookup.ControlState, component);
    }
    
    public void ReplaceControlState(float thrust, float strafe_x, float strafe_y, float yaw_input)
    {
        var component = (ControlStateComponent)GetComponent(GameComponentsLookup.ControlState);
        component.Thrust = thrust;
        component.Strafe_X = strafe_x;
        component.Strafe_Y = strafe_y;
        component.Yaw_Input = yaw_input;
        ReplaceComponent(GameComponentsLookup.ControlState, component);
    }

    // FlightAssist
    public bool hasFlightAssist => HasComponent(GameComponentsLookup.FlightAssist);
    public FlightAssistComponent flightAssist => (FlightAssistComponent)GetComponent(GameComponentsLookup.FlightAssist);
    
    public void AddFlightAssist(bool enabled)
    {
        var component = CreateComponent<FlightAssistComponent>(GameComponentsLookup.FlightAssist);
        component.Enabled = enabled;
        AddComponent(GameComponentsLookup.FlightAssist, component);
    }
    
    public void ReplaceFlightAssist(bool enabled)
    {
        var component = (FlightAssistComponent)GetComponent(GameComponentsLookup.FlightAssist);
        component.Enabled = enabled;
        ReplaceComponent(GameComponentsLookup.FlightAssist, component);
    }

    // ShipConfig
    public bool hasShipConfig => HasComponent(GameComponentsLookup.ShipConfig);
    public ShipConfigComponent shipConfig => (ShipConfigComponent)GetComponent(GameComponentsLookup.ShipConfig);
    
    public void AddShipConfig(ShipConfig config)
    {
        var component = CreateComponent<ShipConfigComponent>(GameComponentsLookup.ShipConfig);
        component.Config = config;
        AddComponent(GameComponentsLookup.ShipConfig, component);
    }

    // Health
    public bool hasHealth => HasComponent(GameComponentsLookup.Health);
    public HealthComponent health => (HealthComponent)GetComponent(GameComponentsLookup.Health);
    
    public void AddHealth(float current_hp, float max_hp)
    {
        var component = CreateComponent<HealthComponent>(GameComponentsLookup.Health);
        component.Current_HP = current_hp;
        component.Max_HP = max_hp;
        AddComponent(GameComponentsLookup.Health, component);
    }
    
    public void ReplaceHealth(float current_hp, float max_hp)
    {
        var component = (HealthComponent)GetComponent(GameComponentsLookup.Health);
        component.Current_HP = current_hp;
        component.Max_HP = max_hp;
        ReplaceComponent(GameComponentsLookup.Health, component);
    }

    // PlayerOwned
    public bool hasPlayerOwned => HasComponent(GameComponentsLookup.PlayerOwned);
    public PlayerOwnedComponent playerOwned => (PlayerOwnedComponent)GetComponent(GameComponentsLookup.PlayerOwned);
    
    public void AddPlayerOwned(int playerId)
    {
        var component = CreateComponent<PlayerOwnedComponent>(GameComponentsLookup.PlayerOwned);
        component.PlayerId = playerId;
        AddComponent(GameComponentsLookup.PlayerOwned, component);
    }
}
