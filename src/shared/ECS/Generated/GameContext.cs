// This is a minimal manual implementation of GameContext
// In production, this would be auto-generated by Entitas.CodeGeneration
using Entitas;

namespace U2.Shared.ECS;

public sealed class GameContext : Context<GameEntity>
{
    public GameContext() : base(
        GameComponentsLookup.TotalComponents,
        0,
        new ContextInfo(
            "Game",
            GameComponentsLookup.componentNames,
            GameComponentsLookup.componentTypes
        ),
        SafeAERC.Create())
    {
    }

    public GameEntity CreateEntity()
    {
        return CreateEntity(SafeAERC.Create());
    }

    private GameEntity CreateEntity(IAERC aerc)
    {
        var entity = new GameEntity();
        entity.Initialize(GetComponentPools(), GetNextCreationIndex(), aerc);
        return entity;
    }
}
